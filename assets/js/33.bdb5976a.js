(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{313:function(s,t,a){"use strict";a.r(t);var e=a(14),n=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"异常处理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#异常处理"}},[s._v("#")]),s._v(" 异常处理")]),s._v(" "),t("p",[s._v("本文档介绍了您如何在OpenEX处理运行时异常")]),s._v(" "),t("p",[s._v("有关异常类型的详细信息,请前往"),t("RouterLink",{attrs:{to:"/zh/issues.html#对照表"}},[s._v("对照表")])],1),s._v(" "),t("hr"),s._v(" "),t("h2",{attrs:{id:"接住异常"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#接住异常"}},[s._v("#")]),s._v(" 接住异常")]),s._v(" "),t("p",[s._v("在OpenEX中,你需要使用"),t("code",[s._v("try")]),s._v(" "),t("code",[s._v("catch")]),s._v("语句来处理运行时发生的异常")]),s._v(" "),t("blockquote",[t("p",[s._v("该语句更新于"),t("code",[s._v("Pro v0.1.7")]),s._v("在此之前,OpenEX无法在用户脚本中处理运行时异常")])]),s._v(" "),t("p",[s._v("以下是如何定义一套"),t("code",[s._v("try")]),s._v(" "),t("code",[s._v("catch")]),s._v("语句的例子")]),s._v(" "),t("div",{staticClass:"language-openex line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("try {\n    /* 可能发生异常的代码 */\n}catch 异常类型 信息变量名,调用栈结构变量名 {\n    /* 异常处理代码 */\n}\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("ul",[t("li",[s._v("异常类型: 参考"),t("RouterLink",{attrs:{to:"/zh/issues.html#对照表"}},[s._v("对照表")]),s._v(" 中异常类型名")],1),s._v(" "),t("li",[s._v("信息变量名: "),t("code",[s._v("STRING")]),s._v(" 类型的变量, 存储了异常被抛出的信息")]),s._v(" "),t("li",[s._v("调用栈结构变量名: "),t("code",[s._v("ARRAY")]),s._v(" 类型的数组, 存储调用栈信息")])]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),t("p",[s._v("一个标准处理"),t("code",[s._v("ILLEGAL_ACCESS_EXCEPTION")]),s._v("异常的代码实例")]),s._v(" "),t("div",{staticClass:"language-openex line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("try{\n    /* 假设该段代码一定会发生ILLEGAL_ACCESS_EXCEPTION异常 \n    * 异常信息与调用栈结构以实际为准\n    */\n}catch ILLEGAL_ACCESS_EXCEPTION message , stack {\n    system.print(message);\n    system.print(stack);\n}\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("p",[s._v("您会在终端看到以下输出")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("Not found arg.\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("debug.main, loader.boot"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])])]),s._v(" "),t("h2",{attrs:{id:"抛出异常"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#抛出异常"}},[s._v("#")]),s._v(" 抛出异常")]),s._v(" "),t("p",[s._v("OpenEX也支持您主动在用户脚本中抛出异常,您需要"),t("code",[s._v("throw")]),s._v("语句来抛出您的异常")]),s._v(" "),t("p",[s._v("以下是"),t("code",[s._v("throw")]),s._v("语句的标准格式")]),s._v(" "),t("div",{staticClass:"language-openex line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("throw 异常类型 : 异常信息 ;\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ul",[t("li",[s._v("异常类型: 参考"),t("RouterLink",{attrs:{to:"/zh/issues.html#对照表"}},[s._v("对照表")]),s._v(" 中异常类型名")],1),s._v(" "),t("li",[s._v("异常信息: 您要显示的异常信息")])]),s._v(" "),t("blockquote",[t("p",[s._v("异常信息可以是一段表达式,也可以是字符串组合 "),t("code",[s._v("不能为数组类型")]),t("br"),s._v("\n但最终都会被转换成"),t("code",[s._v("STRING")]),s._v("类型的信息")])]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),t("p",[s._v("一个标准抛出"),t("code",[s._v("ILLEGAL_ACCESS_EXCEPTION")]),s._v("异常的代码实例")]),s._v(" "),t("div",{staticClass:"language-openex line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('throw ILLEGAL_ACCESS_EXCEPTION:"Not found arg" + (1+3);\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("您会在终端看到以下输出")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("ScriptRuntimeError: Not found arg4\n\tThreadName: main\n\tFileName: debug.exf\n\tException: ILLEGAL_ACCESS_EXCEPTION\n\tEdition: OpenEX Pro\n\tVersion: v0.1.7\nCall stack struct:\n    at "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("debug.exf"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(": debug.main"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("User Script"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\tat "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("debug.exf"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(": loader.boot"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Script Loader"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])])])])}),[],!1,null,null,null);t.default=n.exports}}]);