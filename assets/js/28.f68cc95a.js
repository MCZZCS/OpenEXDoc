(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{309:function(s,a,n){"use strict";n.r(a);var e=n(14),t=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"runtime-api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#runtime-api"}},[s._v("#")]),s._v(" Runtime API")]),s._v(" "),a("p",[s._v("本文档主要是列举了OpenEX运行时实现的一些基础运行库和函数,其包含了")]),s._v(" "),a("ul",[a("li",[s._v("OpenEX Runtime Library OpenEX运行库实现")]),s._v(" "),a("li",[s._v("StamonVM Native Library StamonVM本地库实现")]),s._v(" "),a("li",[s._v("OpenEX ASM Interface OpenEX汇编接口")])]),s._v(" "),a("hr"),s._v(" "),a("h2",{attrs:{id:"sys"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sys"}},[s._v("#")]),s._v(" Sys "),a("Badge",{attrs:{text:"OpenEX Basic Library",type:"success"}})],1),s._v(" "),a("p",[s._v("System系统库,实现了OpenEX的标准输入输出和线程创建、系统信息获取等函数"),a("br"),s._v("\n是OpenEX基础库之一,也是第一个被开发的运行库")]),s._v(" "),a("div",{staticClass:"language-openex line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// 运行库ID 'system'\ninclude \"system\";\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"函数列表"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#函数列表"}},[s._v("#")]),s._v(" 函数列表")]),s._v(" "),a("blockquote",[a("p",[s._v("返回值为"),a("code",[s._v("NULL")]),s._v("代表可能没有返回值或返回结果可能为NULL")])]),s._v(" "),a("div",{staticClass:"language-openex line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("system.print(_INFO_);\n    /* \n    * OpenEX标准输出\n    * _INFO_ : 输入的信息(不限类型)\n    * 返回值: 无\n    */\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("div",{staticClass:"language-openex line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("system.input();\n    /* \n    * OpenEX标准输入\n    * 无需形参\n    * 返回值: STRING(返回获取到的输入结果)\n    */\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("div",{staticClass:"language-openex line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("system.sleep(_TIME_);\n    /* \n    * 线程休眠指定时间\n    * _TIME_ : 休眠的时间(INTEGER)\n    * 返回值: 无\n    */\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("div",{staticClass:"language-openex line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("system.stop(_CODE_);\n    /* \n    * 终止OpenEX运行时\n    * _CODE_ : 退出代码(INTEGER)\n    * 返回值: 无\n    */\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("div",{staticClass:"language-openex line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("system.memory();\n    /* \n    * 获取OpenEX内存占用率\n    * 无需形参\n    * 返回值: DOUBLE(占用大小(MB))\n    */\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("div",{staticClass:"language-openex line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("system.sysinfo(_ID_);\n    /* \n    * 获取系统信息\n    * _ID_ : 信息代号(STRING)\n        - os : 获取操作系统名称\n        - version : 获取OpenEX更新号\n        - svm : 获取脚本是否运行在StamonVM环境上\n        - edition : 获取OpenEX版本号\n    * 返回值: STRING(获取到的信息)\n    */\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("div",{staticClass:"language-openex line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("system.thread(_NAME_,_FUNCTION_);\n    /* \n    * OpenEX标准输出\n    * _NAME_ : 线程名称(STRING)\n    * _FUNCTION_ : 该脚本定义的函数名\n    * 返回值: 无\n    */\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h2",{attrs:{id:"array"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#array"}},[s._v("#")]),s._v(" Array "),a("Badge",{attrs:{text:"OpenEX Basic Library",type:"success"}})],1),s._v(" "),a("p",[s._v("Array数组操作库,其实现了各种对数组指定索引取值和重赋值的接口"),a("br"),s._v("\n某些数组操作表达式也是直接被转译成Array库的调用")]),s._v(" "),a("div",{staticClass:"language-openex line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('// 运行库ID `array`\ninclude "array";\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"函数列表-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#函数列表-2"}},[s._v("#")]),s._v(" 函数列表")]),s._v(" "),a("blockquote",[a("p",[s._v("返回值为"),a("code",[s._v("NULL")]),s._v("代表可能没有返回值或返回结果可能为NULL")])]),s._v(" "),a("div",{staticClass:"language-openex line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("array.get_object(_ARRAY_,_INDEX_);\n    /* \n    * 获取指定索引上的元素\n    * _ARRAY_ : 数组(ARRAY)\n    * _INDEX_ : 索引(INTEGER)\n    * 返回值: 获取到的元素(不限类型)\n    */\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("div",{staticClass:"language-openex line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("array.set_object(_ARRAY_,_INDEX_,_OBJECT_);\n    /* \n    * 设置指定索引上的元素\n    * _ARRAY_ : 数组(ARRAY)\n    * _INDEX_ : 索引(INTEGER)\n    * _OBJECT_ : 元素(不限类型)\n    * 返回值: NULL\n    */\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("div",{staticClass:"language-openex line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("array.length(_ARRAY_);\n    /* \n    * 获取数组的长度\n    * _ARRAY_ : 数组(ARRAY)\n    * 返回值: 长度(INTEGER)\n    */\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("div",{staticClass:"language-openex line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("array.to_string(_ARRAY_);\n    /* \n    * 返回数组所有元素的信息\n    * _ARRAY_ : 数组(ARRAY)\n    * 返回值: 元素信息(STRING)\n    */\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h2",{attrs:{id:"asm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#asm"}},[s._v("#")]),s._v(" ASM "),a("Badge",{attrs:{text:"ASM Interface",type:"warning"}})],1),s._v(" "),a("p",[s._v("OpenEX ASM接口, 通过"),a("code",[s._v("-asm")]),s._v("命令参数开启后,可将脚本编译成汇编代码")]),s._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[s._v("警告")]),s._v(" "),a("p",[s._v("在正常运行脚本情况下请勿调用ASM接口,这些接口的功能由底层操作系统实现,而并非OpenEX运行时,如果直接调用则会抛出异常")])]),s._v(" "),a("h3",{attrs:{id:"函数列表-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#函数列表-3"}},[s._v("#")]),s._v(" 函数列表")]),s._v(" "),a("blockquote",[a("p",[s._v("ASM接口的返回值均为未知类型,请谨慎获取")])]),s._v(" "),a("div",{staticClass:"language-openex line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("asm.printf(_STRING_,_OBJECT_...);\n    /*\n    * 操作系统标准格式化输出\n    * _STRING_ : 格式化字符串\n    * _OBJECT_ : 被格式化的元素\n    * 返回值 : Unknown\n    */\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])])])}),[],!1,null,null,null);a.default=t.exports}}]);